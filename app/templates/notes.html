<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Your Notes</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container">
    <h2 class="mt-5">Your Notes</h2>

    <!-- ðŸ”¥ Local Search -->
    <input type="text" id="searchInput" onkeyup="filterNotes()" class="form-control mb-4" placeholder="Search notes by title or content...">

    <a href="/create-note" class="btn btn-success mb-3">Add Note</a>
    <a href="/logout" class="btn btn-danger mb-3">Logout</a>

    <div id="notesList" class="list-group">
        {% for note in notes %}
            <div class="list-group-item note-item">
                <h5 class="note-title">{{ note.title }}</h5>
                <p class="note-content">{{ note.content }}</p>
            </div>
        {% endfor %}
    </div>

    <!-- ðŸ”¥ JavaScript for live filtering -->
    <script>
        function filterNotes() {
            var input = document.getElementById('searchInput');
            var filter = input.value.toLowerCase();
            var notes = document.getElementsByClassName('note-item');

            for (var i = 0; i < notes.length; i++) {
                var title = notes[i].getElementsByClassName('note-title')[0];
                var content = notes[i].getElementsByClassName('note-content')[0];
                if (title.innerText.toLowerCase().includes(filter) || content.innerText.toLowerCase().includes(filter)) {
                    notes[i].style.display = "";
                } else {
                    notes[i].style.display = "none";
                }
            }
        }
    </script>
</body>
</html>
